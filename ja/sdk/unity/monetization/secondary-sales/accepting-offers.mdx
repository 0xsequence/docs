---
title: オファーの承認
---

未処理のオファーがある場合、ユーザーはオファーを「承認」して、オファーを出したユーザーにコレクティブルを販売することができます。

未処理のオファーは`ListCollectibleOffersWithHighestPricedOfferFirst`を使用して読み取ることができます：

```csharp
IMarketplaceReader reader = new MarketplaceReader(chain);
ListCollectibleListingsReturn collectiblesResponse = await reader.ListCollectibleOffersWithHighestPricedOfferFirst(collectibleContractAddress, optionalCollectiblesFilter);
```

または、ユーザーの販売可能なオファーをすべて取得したい場合は、`ListAllSellableOffers`ヘルパーメソッドを使用するか（または単に`CollectiblesFilter`を提供するだけです）：

```csharp
IMarketplaceReader reader = new MarketplaceReader(chain);
CollectibleOrder[] sellableOffers = await reader.ListAllSellableOffers(userAddress, collectionContractAddress, optionalCollectiblesFilter);
```

これはユーザーのアドレス（販売者のアドレス）を`inAccounts`と`ordersNotCreatedBy`フィルターにCollectiblesFilterオブジェクトを追加します。このメソッドはページネーションも処理します - ページがなくなるまで継続的にリクエストを行います - そのため、大量のオファーが予想される場合は注意して使用してください。大量のオファーが予想される場合は、単に`ListCollectibleOffersWithHighestPricedOfferFirst`を使用し、説明された`CollectiblesFilter`を提供してください。

ユーザーが承認したいオファーと販売したいコレクティブルインスタンスの数を選択したら、オファーを成立させる/コレクティブルを販売することができます：

```csharp
ICheckout checkout = new Checkout(_wallet, _chain);
Step[] steps = await checkout.GenerateSellTransaction(selectedOrders, amount);
TransactionReturn result = await steps.SubmitAsTransactions(_wallet, _chain);
if (result is SuccessfulTransactionReturn successTransaction) {
    // Handle success case
}else {
    // Handle fail case
}
```
