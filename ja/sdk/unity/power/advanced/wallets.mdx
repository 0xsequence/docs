---
title: ウォレット
---

SequenceEthereumのコンテキストでは、`Wallet`は`IWallet`インターフェースによって定義されます。このSDKには現在`IWallet`インターフェースの2つの実装があります。

## 1. EOAWallet

`EOAWallet`は標準的な[EOA wallet](https://ethereum.stackexchange.com/questions/5828/what-is-an-eoa-account)EVMチェーン用です。

EOAWalletは簡単に作成できます：

```csharp
IWallet eoaWallet = new EOAWallet(); // This will generate a cryptographically random private key
IWallet eoaWallet = new EOAWallet(privateKeyString); // Create a wallet using a previously generated private key
```

## 2. SequenceWalletToEOAWalletAdapter

`SequenceWalletToEOAWalletAdapter`は`SequenceWallet`を同じ`IWallet`インターフェースで`EOAWallet`として使用できるようにするアダプターで、SequenceEthereumライブラリの他の部分でEOAウォレットと互換性を持って使用できます。

SequenceWalletToEOAWalletAdapterは、SequenceWalletがあれば簡単に作成できます：

```csharp
IWallet sequenceAdapter = new SequenceWalletToEOAWalletAdapter(sequenceWallet);
```

## メソッド

この`IWallet`インターフェースは、いくつかのメソッドを提供します。最も重要なものは以下の通りです：

### GetAddress

ウォレットの`Address`を返します

```csharp
Address address = wallet.GetAddress();
```

### SendTransaction

指定された`EthTransaction`に署名し、指定されたクライアントを通じて送信します

```csharp
string transactionHash = await wallet.SendTransaction(client, transaction);
```

### SendTransactionAndWaitForReceipt

指定された`EthTransaction`に署名し、指定されたクライアントを通じて送信した後、`TransactionReceipt`

```csharp
TransactionReceipt receipt = await wallet.SendTransactionAndWaitForReceipt(client, transaction);
```

### SendTransactionBatch

指定された`EthTransaction[]`に署名し、指定されたクライアントを通じて送信します。
ウォレットが`EOAWallet`の場合、トランザクションは順次送信され、それぞれが成功または失敗する可能性があります。ウォレットが`SequenceWalletToEOAWalletAdapter`の場合、トランザクションは1つのトランザクションにバッチ処理され、一度に送信され、全体として成功するか失敗するかのどちらかになります。
同様に、ウォレットが`EOAWallet`の場合、`string[]`（トランザクションハッシュ）は送信した`EthTransaction[]`と同じ長さになります。一方、ウォレットが`SequenceWalletToEOAWalletAdapter`の場合、1つのトランザクションハッシュのみを受け取ります（`string[]`の長さは1）

```csharp
string[] transactionHashes = await wallet.SendTransactionBatch(client, transactions);
```

### SendTransactionBatchAndWaitForReceipts

指定された`EthTransaction[]`に署名し、指定されたクライアントを通じて送信した後、`TransactionReceipt[]`を待ちます。
ウォレットが`EOAWallet`の場合、トランザクションは順次送信され、それぞれが成功または失敗する可能性があります。ウォレットが`SequenceWalletToEOAWalletAdapter`の場合、トランザクションは1つのトランザクションにバッチ処理され、一度に送信され、全体として成功するか失敗するかのどちらかになります。
同様に、ウォレットが`EOAWallet` その`TransactionReceipt[]` 受け取るものは、提出した`EthTransaction[]` と同じ長さになります。一方、ウォレットが`SequenceWalletToEOAWalletAdapter`の場合、1つのトランザクションレシートのみを受け取ります（`TransactionReceipt[]` 長さ1）

```csharp
TransactionReceipt[] receipts = await wallet.SendTransactionAndWaitForReceipt(client, transactions);
```

### SignMessage

メッセージとオプションのチェーンIDが与えられた場合、ウォレットを使用してメッセージに署名します。チェーンIDが提供されていない場合は、署名からチェーンIDを省略します

```csharp
string signedMessage = await wallet.SignMessage(message, chainId)
```

注意：chainIdは16進数形式であることが期待されます。`Chain` オブジェクト（推奨）を使用している場合、`AsString` メソッドを使用してチェーンIDの16進数形式を取得できます

```csharp
string signedMessage = await wallet.SignMessage(message, Chain.Polygon.AsString());
```
