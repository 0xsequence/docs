---
title: Marketplace SDK のはじめ方
description: Marketplace SDK をアプリケーションに統合する方法について、インストールや設定、オファー作成機能の実装手順を解説します。
sidebarTitle: はじめに
---

# はじめに
NFT を表示し操作できるシンプルな React アプリケーションを作成しましょう。ウォレット接続と基本的な NFT 表示機能をセットアップします。

<Steps>
  <Step title="Sequence Builder でプロジェクトを作成">
    コーディングを始める前に、プロジェクトのセットアップが必要です。

    1. [Sequence Builder](https://sequence.build) にアクセスします。
    2. 新しいプロジェクトを作成します。
    3. [White-label Marketplace ガイド](https://docs.sequence.xyz/solutions/marketplaces/white-label-marketplace/overview) に従ってください。
    4. プロジェクト ID と API アクセスキーをメモしておきましょう。
  </Step>

  <Step title="新しい React プロジェクトを作成">
    このガイドでは Vite、React、TypeScript を使用します。パッケージマネージャーは何でも構いませんが、例では pnpm を使います。

    ```bash
    # Create a new project
    pnpm create vite@latest my-marketplace-app -- --template react-ts

    # Navigate to the project directory
    cd my-marketplace-app

    # Install dependencies
    pnpm install
    ```
  </Step>

  <Step title="必要な依存パッケージのインストール">
    Marketplace SDK とそのピア依存パッケージをインストールします。

    ```bash
    pnpm add @0xsequence/marketplace-sdk @0xsequence/connect wagmi viem @tanstack/react-query
    ```
  </Step>

  <Step title="SDK設定の作成">
    新しいファイル `src/config/sdk.ts` を作成し、SDKの設定を保存します。

    ```tsx
    import type { SdkConfig } from "@0xsequence/marketplace-sdk";

    export const sdkConfig = {
      projectId: "YOUR_PROJECT_ID",
      projectAccessKey: "YOUR_PROJECT_ACCESS_KEY",
    } satisfies SdkConfig;
    ```

    <Check>
      `YOUR_PROJECT_ID` と `YOUR_PROJECT_ACCESS_KEY` を実際のプロジェクト情報に置き換えてください。Project ID は `https://sequence.build/project/{YOUR_PROJECT_ID}/overview`、Project Access Key は `https://sequence.build/project/{YOUR_PROJECT_ID}/settings/apikeys` で [Sequence Builder](https://sequence.build) ダッシュボードから確認できます。
    </Check>
  </Step>

  <Step title="プロバイダーのセットアップ">
    必要なプロバイダーを設定するために、新しいファイル `src/providers.tsx` を作成します。

    ```tsx
    import {
      MarketplaceProvider,
      MarketplaceQueryClientProvider,
      ModalProvider,
      createWagmiConfig,
      getQueryClient,
      marketplaceConfigOptions,
    } from "@0xsequence/marketplace-sdk/react";
    import { useQuery } from "@tanstack/react-query";
    import { WagmiProvider } from "wagmi";
    import {
      SequenceConnectProvider,
      type ConnectConfig,
    } from "@0xsequence/connect";
    import { sdkConfig } from "./config/sdk";

    interface ProvidersProps {
      children: React.ReactNode;
    }

    export default function Providers({ children }: ProvidersProps) {
      const queryClient = getQueryClient();
      const { data: marketplaceConfig, isLoading } = useQuery(
        marketplaceConfigOptions(sdkConfig),
        queryClient
      );

      if (isLoading) {
        return <div>Loading configuration...</div>;
      }

      if (!marketplaceConfig) {
        return <div>Failed to load marketplace configuration</div>;
      }

      const connectConfig: ConnectConfig = {
        projectAccessKey: sdkConfig.projectAccessKey,
        signIn: {
          projectName: marketplaceConfig.settings.title,
        },
      };

      const wagmiConfig = createWagmiConfig(marketplaceConfig, sdkConfig);

      return (
        <WagmiProvider config={wagmiConfig}>
          <MarketplaceQueryClientProvider>
            <SequenceConnectProvider config={connectConfig}>
              <MarketplaceProvider config={sdkConfig}>
                {children}
                <ModalProvider />
              </MarketplaceProvider>
            </SequenceConnectProvider>
          </MarketplaceQueryClientProvider>
        </WagmiProvider>
      );
    }
    ```

    <Note>
      SDKの設定では、`shadowDom` がデフォルトで有効になっています。これは、Tailwind CSS を使用していない場合でも、コンポーネントにスタイルが正しく適用されるようにするためです。
    </Note>
  </Step>

  <Step title="メインエントリーポイントの更新">
    `main.tsx` を更新して Providers コンポーネントを利用します。

    ```tsx
    import React from 'react'
    import ReactDOM from 'react-dom/client'
    import App from './App'
    import Providers from './providers'
    import './index.css'

    ReactDOM.createRoot(document.getElementById('root')!).render(
      <React.StrictMode>
        <Providers>
          <App />
        </Providers>
      </React.StrictMode>
    )
    ```
  </Step>

  <Step title="Connect ボタンコンポーネントの作成">
    ウォレット接続用の新しいコンポーネント `src/components/ConnectButton.tsx` を作成します。

    ```tsx
    import { useOpenConnectModal } from '@0xsequence/connect';
    import { useAccount } from 'wagmi';

    export default function ConnectButton() {
      const { setOpenConnectModal } = useOpenConnectModal();
      const { address } = useAccount();

      return (
        <button
          onClick={() => setOpenConnectModal(true)}
        >
          {address ? `${address.slice(0, 6)}...${address.slice(-4)}` : "Connect Wallet"}
        </button>
      );
    }
    ```
  </Step>

  <Step title="NFT カードコンポーネントの作成">
    NFTを表示および操作するための新しいコンポーネント `src/components/CollectibleCard.tsx` を作成します。

    ```tsx
    import {
      useCollectible,
      useMakeOfferModal,
    } from "@0xsequence/marketplace-sdk/react";
    import type { Address } from "viem";

    const collectionAddress = "YOUR_COLLECTION_ADDRESS" as Address;
    const collectibleId = "1" as string;
    const chainId = 80002 as number; // Polygon Amoy Testnet

    export default function CollectibleCard() {
      const { data: nft } = useCollectible({
        chainId,
        collectionAddress,
        collectibleId,
      });

      const { show } = useMakeOfferModal();

      if (!nft) return null;

      return (
        <div>
          <img src={nft.image} alt={nft.name} />
          <h3>{nft.name}</h3>
          <button
            onClick={() => {
              show({
                chainId,
                collectionAddress,
                collectibleId,
              });
            }}
          >
            Make Offer
          </button>
        </div>
      );
    }
    ```

    <Note>
      コレクションアドレスとチェーン ID を取得するには：

      1. `https://sequence.build/project/{YOUR_PROJECT_ID}/marketplace/market` にアクセスし、作成したコレクションのアドレスをコピーします。
      2. チェーン ID について：
         - コレクションをデプロイしたネットワークが分かっている場合は、そのチェーン ID を使用してください。
         - 不明な場合は [Sequence Chainlist](https://sequence.xyz/chains) でコレクションがデプロイされているチェーン ID を探してください（"Supported" ステータスのネットワークを確認）。
      3. コレクション内で少なくとも 1 つコレクティブルをミントし、そのコレクティブルの ID を `collectibleId` として使用してください。
    </Note>

    <Tip>
      最適な体験には Sequence Connect を推奨しますが、Marketplace SDK では他のウォレットプロバイダーも利用可能です。カスタムウォレットコネクターについては [カスタムコネクターのガイド](/sdk/web/custom-connectors) をご覧ください。
    </Tip>
  </Step>

  <Step title="App コンポーネントの更新">
    `App.tsx` を更新して新しいコンポーネントを利用します。

    ```tsx
    import ConnectButton from './components/ConnectButton'
    import CollectibleCard from './components/CollectibleCard'

    export default function App() {
      return (
        <div>
          <ConnectButton />
          <CollectibleCard />
        </div>
      )
    }
    ```
  </Step>

  <Step title="アプリケーションの実行">
    開発サーバーを起動します。

    ```bash
    pnpm run dev
    ```

    マーケットプレイスアプリケーションが `http://localhost:5173` で動作します。次のことができます：

    1. Connect ボタンでウォレットを接続
    2. NFT の詳細を表示
    3. Make Offer ボタンで NFT にオファーを出す
  </Step>
</Steps>

## 次のステップ
基本的な機能が動作したら、次のことにも挑戦できます：
- NFT のリスティング作成
- 注文の管理
- UI のカスタマイズ
- さらに多くの機能については他のガイドもご覧ください。

サポートが必要ですか？[Discord コミュニティ](https://discord.gg/sequence) にご参加ください。