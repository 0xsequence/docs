---
title: useGetSwapQuote
description: トランザクションデータを含む実行可能なスワップ見積もりを取得するためのフック
sidebarTitle: useGetSwapQuote
---

## インポート

```tsx
import { useGetSwapQuote } from '@0xsequence/hooks'
```

## 使用方法

```tsx
import { useGetSwapQuote } from '@0xsequence/hooks'

function SwapComponent() {
  const { data: swapQuote, isLoading } = useGetSwapQuote({
    userAddress: '0x123...',
    buyCurrencyAddress: '0x456...',
    sellCurrencyAddress: '0x789...',
    buyAmount: '1000000000000000000', 
    chainId: 1,
    includeApprove: true
  })

  if (isLoading) return <div>Loading...</div>

  return (
    <div>
      {swapQuote && (
        <div>
          Currency: {swapQuote.currencyAddress}
          Price: {swapQuote.price}
          Max Price: {swapQuote.maxPrice}
          Transaction Value: {swapQuote.transactionValue}
        </div>
      )}
    </div>
  )
}
```

## 戻り値の型：`UseQueryResult<SwapQuote>`

このフックはReact Queryの`UseQueryResult`のすべてのプロパティとスワップ見積もりデータを返します。以下が詳細な構造です：

```tsx
interface SwapQuote {
  currencyAddress: string
  currencyBalance: string
  price: string
  maxPrice: string
  to: string
  transactionData: string
  transactionValue: string
  approveData: string
}
```

### プロパティ

#### data

`SwapQuote | undefined`

以下を含むスワップ見積もりオブジェクト：

* `currencyAddress`：スワップする通貨のアドレス
* `currencyBalance`：ユーザーのウォレットにある通貨の残高
* `price`：スワップの現在の価格
* `maxPrice`：スワップに許可される最大価格（スリッページを含む）
* `to`：スワップのターゲットコントラクトアドレス
* `transactionData`：スワップを実行するためのエンコードされたトランザクションデータ
* `transactionValue`：トランザクションと共に送信される値
* `approveData`：エンコードされた承認トランザクションデータ（includeApproveがtrueの場合）

#### isLoading

`boolean`

データフェッチのローディング状態。

#### isError

`boolean`

クエリが失敗したかどうかを示すエラー状態。

#### error

`Error | null`

データフェッチ中に発生したエラー。

## パラメータ

このフックは2つのパラメータを受け取ります：

### args: `UseGetSwapQuoteArgs`

```tsx
interface UseGetSwapQuoteArgs {
  userAddress: string
  buyCurrencyAddress: string
  sellCurrencyAddress: string
  buyAmount: string
  chainId: number
  includeApprove?: boolean
  slippagePercentage?: number
}
```

| パラメータ                 | 型         | 説明                           |
| --------------------- | --------- | ---------------------------- |
| `userAddress`         | `string`  | ユーザーのウォレットアドレス               |
| `buyCurrencyAddress`  | `string`  | 購入する通貨のアドレス                  |
| `sellCurrencyAddress` | `string`  | 売却する通貨のアドレス                  |
| `buyAmount`           | `string`  | 購入する通貨の量（基本単位）               |
| `chainId`             | `number`  | スワップが行われるチェーンID              |
| `includeApprove`      | `boolean` | （オプション）承認トランザクションデータを含めるかどうか |
| `slippagePercentage`  | `number`  | （オプション）許容される最大スリッページ率        |

### options: `HooksOptions`

```tsx
interface HooksOptions {
  disabled?: boolean
  retry?: boolean
}
```

| パラメータ      | 型         | 説明                       |
| ---------- | --------- | ------------------------ |
| `disabled` | `boolean` | （オプション）クエリの自動実行を無効にする    |
| `retry`    | `boolean` | （オプション）失敗したクエリを再試行するかどうか |
