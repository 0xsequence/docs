---
title: Ejemplos de Análisis de Billeteras
sidebarTitle: Billeteras
---

Un caso de uso común es ver el número de billeteras que están integradas con tu proyecto. Tenemos una variedad de endpoints que se pueden usar para rastrear y reportar datos detallados como dispositivo, país y más, para que puedas identificar con precisión

<Note>
  Reemplaza las variables PROJECT\_ID y SECRET\_API\_ACCESS\_KEY con tu ID de proyecto y token secreto de Sequence Builder.
</Note>

## Obtener billeteras para un intervalo de tiempo para un ID de proyecto

Aquí podemos pasar un rango de fechas específico junto con el parámetro dateInterval para obtener billeteras dentro de un intervalo de tiempo. Los endpoints pueden usar "DAY", "WEEK" o "MONTH" como opciones posibles.

<CodeGroup>
  ```sh cURL
  curl 'https://api.sequence.build/rpc/Builder/WalletsDaily' \
    -H 'accept: */*' \
    -H 'authorization: BEARER <SECRET_API_ACCESS_KEY>' \
    -H 'content-type: application/json' \
    --data-raw '{"filter":{"projectId":<PROJECT_ID>,"startDate":"2024-04-23","endDate":"2024-05-23", "dateInterval":"DAY"}}'
  ```

  ```ts TypeScript
  // Works in both a Webapp (browser) or Node.js by importing cross-fetch:
  // import fetch from "cross-fetch";

  (async () => {
    const res = await fetch(
      "https://api.sequence.build/rpc/Builder/WalletsDaily",
      {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
  		"filter":{
  			"projectId":4859,
  			"startDate":"2024-01-23",
  			"endDate":"2024-05-23",
  			"dateInterval":"DAY"
  			}
  		}),
      }
    );
    console.log("res", await res.json());
  })();
  ```
</CodeGroup>

## Obtener billeteras por País

También puedes obtener billeteras por país para ver desde dónde se conectan tus usuarios.

<CodeGroup>
  ```sh cURL
  curl 'https://api.sequence.build/rpc/Builder/WalletsByCountry' \
    -H 'accept: */*' \
    -H 'authorization: BEARER <SECRET_API_ACCESS_KEY>' \
    -H 'content-type: application/json' \
    --data-raw '{"filter":{"projectId":<PROJECT_ID>,"startDate":"2024-04-23","endDate":"2024-05-23", "dateInterval":"DAY"}}'
  ```

  ```ts TypeScript
  // Works in both a Webapp (browser) or Node.js by importing cross-fetch:
  // import fetch from "cross-fetch";

  (async () => {
    const res = await fetch(
      "https://api.sequence.build/rpc/Builder/WalletsByCountry",
      {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
  		"filter":{
  			"projectId":4859,
  			"startDate":"2024-01-23",
  			"endDate":"2024-05-23",
  			"dateInterval":"DAY"
  			}
  		}),
      }
    );
    console.log("res", await res.json());
  })();
  ```
</CodeGroup>

## Obtener billeteras por Dispositivo

Además, puedes querer consultar por dispositivo para obtener una instantánea agregada de desde dónde se autentican tus usuarios.

<CodeGroup>
  ```sh cURL
  curl 'https://api.sequence.build/rpc/Builder/WalletsByDevice' \
    -H 'accept: */*' \
    -H 'authorization: BEARER <SECRET_API_ACCESS_KEY>' \
    -H 'content-type: application/json' \
    --data-raw '{"filter":{"projectId":<PROJECT_ID>,"startDate":"2024-04-23","endDate":"2024-05-23", "dateInterval":"DAY"}}'
  ```

  ```ts TypeScript
  // Works in both a Webapp (browser) or Node.js by importing cross-fetch:
  // import fetch from "cross-fetch";

  (async () => {
    const res = await fetch(
      "https://api.sequence.build/rpc/Builder/WalletsByDevice",
      {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
  		"filter":{
  			"projectId":4859,
  			"startDate":"2024-01-23",
  			"endDate":"2024-05-23",
  			"dateInterval":"DAY"
  			}
  		}),
      }
    );
    console.log("res", await res.json());
  })();
  ```
</CodeGroup>

## Obtener transacciones por billeteras

Por último, puedes querer obtener el número de transacciones por billeteras - estas pueden usarse ya sea por total o un intervalo de tiempo fijo.

### Total

<CodeGroup>
  ```sh cURL
  curl 'https://api.sequence.build/rpc/Builder/WalletsTxnSentTotal' \
    -H 'accept: */*' \
    -H 'authorization: BEARER <SECRET_API_ACCESS_KEY>' \
    -H 'content-type: application/json' \
    --data-raw '{"filter":{"projectId":<PROJECT_ID>,"startDate":"2024-04-23","endDate":"2024-05-23"}}'
  ```

  ```ts TypeScript
  // Works in both a Webapp (browser) or Node.js by importing cross-fetch:
  // import fetch from "cross-fetch";

  (async () => {
    const res = await fetch(
      "https://api.sequence.build/rpc/Builder/WalletsTxnSentTotal",
      {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
  		"filter":{
  			"projectId":4859,
  			"startDate":"2024-01-23",
  			"endDate":"2024-05-23",
  			"dateInterval":"DAY"
  			}
  		}),
      }
    );
    console.log("res", await res.json());
  })();
  ```
</CodeGroup>

### Intervalo de Tiempo

<CodeGroup>
  ```sh cURL
  curl 'https://api.sequence.build/rpc/Builder/WalletsTxnSentDaily' \
    -H 'accept: */*' \
    -H 'authorization: BEARER <SECRET_API_ACCESS_KEY>' \
    -H 'content-type: application/json' \
    --data-raw '{"filter":{"projectId":<PROJECT_ID>,"startDate":"2024-04-23","endDate":"2024-05-23", "dateInterval":"DAY"}}'
  ```

  ```ts TypeScript
  // Works in both a Webapp (browser) or Node.js by importing cross-fetch:
  // import fetch from "cross-fetch";

  (async () => {
    const res = await fetch(
      "https://api.sequence.build/rpc/Builder/WalletsTxnSentDaily",
      {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
  		"filter":{
  			"projectId":4859,
  			"startDate":"2024-01-23",
  			"endDate":"2024-05-23",
  			"dateInterval":"DAY"
  			}
  		}),
      }
    );
    console.log("res", await res.json());
  })();
  ```
</CodeGroup>

## Esquema

Todos los endpoints de análisis de billeteras siguen un esquema de solicitud similar

* Solicitud: POST
* Content-Type: application/json
* Cuerpo (en JSON):
  * `projectId` (uint64) -- projectID de tu proyecto, se puede encontrar en la URL del proyecto Builder.
  * `startDate` (timestamp) -- fecha de inicio de la consulta en formato YYYY--MM--DD
  * `endDate` (timestamp) -- fecha de fin de la consulta en formato YYYY--MM--DD
  * `dateInterval` (string) -- intervalo de fecha para la consulta, las opciones son "DAY", "WEEK", o "MONTH"
* Respuesta (en JSON):
  * `walletStats` (walletStats\[])
    * `value` (uint64) -- # de billeteras que coinciden con la consulta
    * `label` (string) -- etiqueta asociada con el endpoint correspondiente
