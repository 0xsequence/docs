---
title: CollectibleCard
description: Un componente de tarjeta versátil para mostrar coleccionables en contextos de marketplace y tienda
sidebarTitle: CollectibleCard
---

## Importar

```tsx
import { CollectibleCard } from "@0xsequence/marketplace-sdk/react";
```

## Uso

### Hooks de datos
El SDK proporciona hooks especializados para obtener y formatear datos para el componente CollectibleCard:

#### Tarjetas de Marketplace

```tsx
import { useListMarketCardData } from "@0xsequence/marketplace-sdk/react";

const {
  collectibleCards,
  isLoading,
  hasNextPage,
  isFetchingNextPage,
  fetchNextPage,
} = useListMarketCardData({
  orderbookKind,
  collectionType,
  filterOptions,
  searchText,
  showListedOnly,
  collectionAddress,
  chainId,
});
```

#### Tarjetas de Tienda
Para las tarjetas de tienda, hay dos hooks según el tipo de contrato:

```tsx
// For ERC721 tokens
import { useList721ShopCardData } from "@0xsequence/marketplace-sdk/react";

const { collectibleCards, isLoading } = useList721ShopCardData({
  primarySaleItemsWithMetadata,
  chainId,
  contractAddress,
  salesContractAddress,
  enabled: contractType === ContractType.ERC721,
});

// For ERC1155 tokens
import { useList1155ShopCardData } from "@0xsequence/marketplace-sdk/react";

const { collectibleCards, isLoading } = useList1155ShopCardData({
  chainId,
  contractAddress,
  salesContractAddress,
  enabled: contractType === ContractType.ERC1155,
  primarySaleItemsWithMetadata,
});
```

Estos hooks gestionan:
- Obtención y formateo de datos
- Estados de carga
- Paginación (para tarjetas de marketplace)
- Requisitos de datos según el tipo
- Integración con filtros y búsqueda

### Examples

<Tabs>
  <Tab title="Tarjeta de Marketplace">
    Ejemplo de uso del componente CollectibleCard en un contexto de marketplace:

    ```tsx
    import { CollectibleCard } from "@0xsequence/marketplace-sdk/react";

    export default function MarketExample() {
      return (
        <CollectibleCard
          collectibleId="1"
          chainId={1}
          collectionAddress="0x..."
          marketplaceType="market"
          collectible={{
            // collectible data
            tokenId: "1",
            metadata: {
              name: "My NFT",
              image: "https://example.com/nft.png"
            }
          }}
          onCollectibleClick={(tokenId) => {
            console.log(`Clicked collectible ${tokenId}`);
          }}
        />
      );
    }
    ```
  </Tab>

  <Tab title="Tarjeta de Tienda">
    Ejemplo mostrando CollectibleCard en un contexto de tienda:

    ```tsx
    import { CollectibleCard } from "@0xsequence/marketplace-sdk/react";

    export default function ShopExample() {
      return (
        <CollectibleCard
          collectibleId="1"
          chainId={1}
          collectionAddress="0x..."
          marketplaceType="shop"
          salesContractAddress="0x..."
          tokenMetadata={{
            name: "Shop Item",
            image: "https://example.com/item.png"
          }}
          salePrice={{
            amount: "1000000000000000000", // 1 ETH in wei
            currencyAddress: "0x..." // ETH address
          }}
          quantityInitial="100"
          quantityRemaining="50"
        />
      );
    }
    ```
  </Tab>

  <Tab title="Con Ofertas">
    Ejemplo que demuestra la funcionalidad de ofertas:

    <Frame>
      ![Tarjeta de coleccionable con ofertas](/images/marketplace/collectible_card_with_offer.png "Tarjeta de coleccionable con ofertas")
    </Frame>

    ```tsx
    import { CollectibleCard } from "@0xsequence/marketplace-sdk/react";

    export default function OffersExample() {
      return (
        <CollectibleCard
          collectibleId="1"
          chainId={1}
          collectionAddress="0x..."
          marketplaceType="market"
          collectible={{
            tokenId: "1",
            metadata: {
              name: "NFT with Offers",
              image: "https://example.com/nft.png"
            }
          }}
          onOfferClick={({ order, e }) => {
            console.log('Offer clicked', order);
            e.preventDefault();
          }}
          onCannotPerformAction={(action) => {
            console.log(`Cannot perform action: ${action}`);
          }}
        />
      );
    }
    ```
  </Tab>
</Tabs>

## Parámetros
El componente acepta diferentes props según el tipo de marketplace:

### Props Base
Estas propiedades son compartidas por todos los tipos de tarjeta:

```tsx
interface MarketplaceCardBaseProps {
  collectibleId: string;
  chainId: number;
  collectionAddress: Address;
  collectionType?: ContractType;
  assetSrcPrefixUrl?: string;
  cardLoading?: boolean;
  marketplaceType?: MarketplaceType;
  isTradable?: boolean;
}
```

| Parámetro           | Type              | Description                                                |
| ------------------- | ----------------- | ---------------------------------------------------------- |
| `collectibleId`     | `string`          | Identificador único para el coleccionable                  |
| `chainId`           | `number`          | El ID de la red blockchain                                 |
| `collectionAddress` | `Address`         | La dirección del smart contract de la colección            |
| `collectionType`    | `ContractType`    | Opcional. El tipo de contrato (ERC721 o ERC1155)           |
| `assetSrcPrefixUrl` | `string`          | Prefijo de URL opcional para las fuentes de los assets     |
| `cardLoading`       | `boolean`         | Indicador opcional para mostrar el estado de carga         |
| `marketplaceType`   | `MarketplaceType` | Opcional. Tipo de marketplace ('market' o 'shop')          |
| `isTradable`        | `boolean`         | Indicador opcional que señala si el ítem es intercambiable |

### Props de Tarjeta de Tienda
Propiedades adicionales para tarjetas de tienda (`marketplaceType="shop"`):

```tsx
interface ShopCardSpecificProps {
  salesContractAddress: Address;
  tokenMetadata: TokenMetadata;
  salePrice?: {
    amount: string;
    currencyAddress: Address;
  };
  saleStartsAt?: string;
  saleEndsAt?: string;
  quantityDecimals?: number;
  quantityInitial?: string;
  quantityRemaining?: string;
  unlimitedSupply?: boolean;
}
```

| Parámetro              | Type            | Description                                                 |
| ---------------------- | --------------- | ----------------------------------------------------------- |
| `salesContractAddress` | `Address`       | La dirección del contrato de ventas                         |
| `tokenMetadata`        | `TokenMetadata` | Metadatos del token incluyendo nombre, descripción e imagen |
| `salePrice`            | `object`        | Opcional. Información de precio incluyendo monto y moneda   |
| `saleStartsAt`         | `string`        | Opcional. Timestamp de inicio de venta                      |
| `saleEndsAt`           | `string`        | Opcional. Timestamp de fin de venta                         |
| `quantityDecimals`     | `number`        | Opcional. Número de decimales para la cantidad              |
| `quantityInitial`      | `string`        | Opcional. Cantidad inicial de suministro                    |
| `quantityRemaining`    | `string`        | Opcional. Cantidad restante de suministro                   |
| `unlimitedSupply`      | `boolean`       | Opcional. Indica si el suministro es ilimitado              |

### Props de Tarjeta de Marketplace
Propiedades adicionales para tarjetas de marketplace (`marketplaceType="market"`):

```tsx
interface MarketCardSpecificProps {
  orderbookKind?: OrderbookKind;
  collectible?: CollectibleOrder;
  onCollectibleClick?: (tokenId: string) => void;
  onOfferClick?: (params: {
    order?: Order;
    e: React.MouseEvent<HTMLButtonElement>;
  }) => void;
  balance?: string;
  balanceIsLoading: boolean;
  onCannotPerformAction?: (action: CollectibleCardAction) => void;
  prioritizeOwnerActions?: boolean;
}
```

| Parámetro                | Type               | Description                                                                    |
| ------------------------ | ------------------ | ------------------------------------------------------------------------------ |
| `orderbookKind`          | `OrderbookKind`    | Opcional. Tipo de orderbook                                                    |
| `collectible`            | `CollectibleOrder` | Opcional. Información de la orden del coleccionable                            |
| `onCollectibleClick`     | `function`         | Opcional. Manejador para eventos de clic en el coleccionable                   |
| `onOfferClick`           | `function`         | Opcional. Manejador para eventos de clic en oferta                             |
| `balance`                | `string`           | Opcional. Balance del usuario de este coleccionable                            |
| `balanceIsLoading`       | `boolean`          | Indica si el balance se está cargando actualmente                              |
| `onCannotPerformAction`  | `function`         | Opcional. Manejador para acciones no autorizadas                               |
| `prioritizeOwnerActions` | `boolean`          | Opcional. Indica si se deben priorizar acciones del propietario en la interfaz |

## Características

### Variantes de tarjeta
El componente soporta dos variantes principales:
1.  **Tarjeta de Marketplace**: Se usa para mostrar coleccionables en un contexto de marketplace con:
    - Precio actual listado
    - Indicador de la oferta más alta
    - Información de balance/propiedad
    - Acciones de compra/oferta

2.  **Tarjeta de Tienda**: Se usa para ventas primarias con:
    - Precio de venta
    - Información de suministro
    - Estado de la venta
    - Acciones de compra

### Detección Automática de Tipo
El componente gestiona automáticamente diferentes estándares de tokens:
- ERC-721 (tokens no fungibles)
- ERC-1155 (tokens semi-fungibles)

### Estados de Carga
Se incluyen estados de carga integrados:

```tsx
<CollectibleCard
  cardLoading={true}
  // ... other props
/>
```

### Formateo de Precios
El componente incluye formateo avanzado de precios con:
- Visualización del símbolo de la moneda
- Indicadores de desbordamiento/subdesbordamiento
- Soporte para varios decimales de tokens
- Indicador de "Gratis" para precios en cero

## Ejemplos de Integración

### Integración de Contenido de Marketplace
Aquí un ejemplo completo de integración de CollectibleCard en un contexto de marketplace:

```tsx
import {
  CollectibleCard,
  useListMarketCardData,
} from "@0xsequence/marketplace-sdk/react";

export function MarketContent({
  collectionAddress,
  chainId,
  onCollectibleClick,
}) {
  const {
    collectibleCards,
    isLoading,
    hasNextPage,
    isFetchingNextPage,
    fetchNextPage,
  } = useListMarketCardData({
    orderbookKind,
    collectionType,
    filterOptions,
    searchText,
    showListedOnly,
    collectionAddress,
    chainId,
  });

  return (
    <div>
      {collectibleCards.map((card, index) => (
        <button
          key={index}
          onClick={() => onCollectibleClick(card.collectibleId)}
          className="w-full cursor-pointer"
        >
          <CollectibleCard {...card} />
        </button>
      ))}
    </div>
  );
}
```

### Integración de Contenido de Tienda
Ejemplo de integración de CollectibleCard en un contexto de tienda con manejo de tipo de contrato:

```tsx
import {
  CollectibleCard,
  useList721ShopCardData,
  useList1155ShopCardData,
} from "@0xsequence/marketplace-sdk/react";

export function ShopContent({
  saleContractAddress,
  collectionAddress,
  chainId,
  onCollectibleClick,
}) {
  // Choose hook based on contract type
  const { collectibleCards, isLoading } =
    contractType === ContractType.ERC721
      ? useList721ShopCardData({
          primarySaleItemsWithMetadata,
          chainId,
          contractAddress: collectionAddress,
          salesContractAddress: saleContractAddress,
          enabled: true,
        })
      : useList1155ShopCardData({
          chainId,
          contractAddress: collectionAddress,
          salesContractAddress: saleContractAddress,
          enabled: true,
          primarySaleItemsWithMetadata,
        });

  return (
    <div>
      {collectibleCards.map((card, index) => (
        <button
          key={index}
          onClick={() => onCollectibleClick(card.collectibleId)}
          className="w-full cursor-pointer"
        >
          <CollectibleCard {...card} />
        </button>
      ))}
    </div>
  );
}
```

## Notas
El componente `MarketplaceCollectibleCard` está diseñado para manejar varios escenarios de marketplace con:
- Diseño responsivo
- Estados de carga
- Formateo de precios
- Seguimiento de suministro
- Manejo de acciones
- Funciones específicas para el propietario
- Gestión de ofertas

Al usar con tokens ERC-1155, tenga en cuenta que:
- El balance se muestra como formato "Propiedad: X"
- La información de suministro se muestra para ítems de tienda
- Se soporta el seguimiento de cantidades

### Mejores prácticas

1.  **Obtención de Datos**
    - Use el hook de datos adecuado según su contexto (market/shop) y tipo de contrato (ERC721/ERC1155)
    - Habilite la obtención condicional usando la prop `enabled` cuando sea necesario
    - Gestione los estados de carga apropiadamente

2.  **Manejo de Eventos**
    - Implemente manejadores de clic tanto para la tarjeta como para acciones específicas (comprar, ofertar)
    - Use el callback `onCannotPerformAction` para manejar acciones no autorizadas

3.  **Visualización**
    - Envuelva las tarjetas en botones para hacerlas clickeables
    - Use el className adecuado para el diseño y espaciado
    - Considere implementar scroll infinito o paginación para colecciones grandes