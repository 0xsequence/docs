---
title: useListPrimarySaleItems
description: Hook para obtener artículos de venta primaria paginados
sidebarTitle: useListPrimarySaleItems
---

## Importar

```tsx
import { useListPrimarySaleItems } from "@0xsequence/marketplace-sdk";
```

## Uso

```tsx
import { useListPrimarySaleItems } from "@0xsequence/marketplace-sdk";

function App() {
  const { data, isLoading, hasNextPage, fetchNextPage, isFetchingNextPage } =
    useListPrimarySaleItems({
      chainId: 137,
      primarySaleContractAddress: "0x123...",
      page: {
        pageSize: 20,
      },
    });

  if (isLoading) {
    return <div>Loading...</div>;
  }

  return (
    <div>
      {data?.pages.map((page, i) => (
        <div key={i}>
          {page.items.map((item) => (
            <div key={item.id}>
              {item.name} - {item.price}
            </div>
          ))}
        </div>
      ))}

      {hasNextPage && (
        <button onClick={() => fetchNextPage()} disabled={isFetchingNextPage}>
          {isFetchingNextPage ? "Loading more..." : "Load More"}
        </button>
      )}
    </div>
  );
}
```

## Tipo de retorno: `UseInfiniteQueryResult`
El hook retorna un objeto de resultado de consulta infinita de React Query con las siguientes propiedades clave:

```tsx
type UseInfiniteQueryResult = {
  data: {
    pages: Array<{
      items: PrimarySaleItem[];
      nextCursor?: string;
    }>;
    pageParams: unknown[];
  };
  isLoading: boolean;
  error: Error | null;
  hasNextPage: boolean;
  fetchNextPage: () => Promise<void>;
  isFetchingNextPage: boolean;
  // ... other React Query infinite query properties
};
```

### Parámetros

| Parámetro                    | Type     | Description                                                         |
| ---------------------------- | -------- | ------------------------------------------------------------------- |
| `chainId`                    | `number` | El ID de la cadena (por ejemplo, 1 para Ethereum, 137 para Polygon) |
| `primarySaleContractAddress` | `string` | La dirección del contrato de venta primaria                         |
| `filter`                     | `object` | (Opcional) Parámetros de filtro para la consulta                    |
| `filter.status`              | `string` | (Opcional) Filtrar por estado del artículo (por ejemplo, 'active')  |
| `page`                       | `object` | (Opcional) Configuración de paginación                              |
| `page.pageSize`              | `number` | (Opcional) Cantidad de artículos por página                         |
| `query`                      | `object` | (Opcional) Opciones de configuración de React Query                 |
| `config`                     | `object` | (Opcional) Opciones de configuración del SDK                        |

### Opciones de consulta
Puede personalizar el comportamiento de la consulta usando los parámetros opcionales:

```tsx
const { data, isLoading } = useListPrimarySaleItems({
  chainId: 1,
  primarySaleContractAddress: "0x...",
  filter: {
    status: "active",
  },
  page: {
    pageSize: 20,
  },
  query: {
    enabled: isReady,
    refetchInterval: 30000, // Refetch every 30 seconds
  },
});
```

## Notas
Este hook es útil para:
- Mostrar una lista de artículos de venta primaria con scroll infinito
- Crear páginas de venta primaria en el marketplace
- Mostrar artículos disponibles para la venta inicial
- Gestionar la carga paginada de datos

El hook maneja automáticamente:
- Paginación con scroll infinito
- Obtención y caché de datos
- Estados de carga y error
- Respuestas con tipado seguro

<Warning>
  Asegúrese de manejar correctamente los estados de carga, especialmente
  `isFetchingNextPage` al implementar la funcionalidad de scroll infinito.
</Warning>

<Warning>
  El `primarySaleContractAddress` debe ser una dirección de contrato válida que
  admita ventas primarias. Direcciones inválidas resultarán en consultas fallidas.
</Warning>