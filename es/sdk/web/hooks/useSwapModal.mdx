---
title: useSwapModal
description: Hook para abrir el modal de intercambio
sidebarTitle: useSwapModal
---

## Importar

```tsx
import { useSwapModal } from '@0xsequence/checkout'
```

## Uso

```tsx
import { useSwapModal } from '@0xsequence/checkout'
import { encodeFunctionData, parseAbi } from 'viem'

function App() {
  const { openSwapModal } = useSwapModal()
  
  const handleSwap = () => {
    // Target token information
    const chainId = 137 // Polygon
    const currencyAddress = '0x3c499c542cEF5E3811e1192ce70d8cC03d5c3359' // USDC on Polygon
    const currencyAmount = '20000' // 0.02 USDC (in smallest units)
    
    // Optional: Transaction to execute after swap is completed
    const data = encodeFunctionData({ 
      abi: parseAbi(['function demo()']), 
      functionName: 'demo', 
      args: [] 
    })
    
    // Open the swap modal
    openSwapModal({
      onSuccess: () => {
        console.log('swap successful!')
      },
      chainId,
      currencyAddress,
      currencyAmount,
      postSwapTransactions: [
        {
          to: '0x37470dac8a0255141745906c972e414b1409b470',
          data
        }
      ],
      title: 'Swap and Pay',
      description: 'Select a token in your wallet to swap to 0.2 USDC.'
    })
  }
  
  return (
    <button onClick={handleSwap}>
      Swap with Sequence Pay
    </button>
  )
}
```

## Tipo de Retorno:`UseSwapModalReturnType`

El hook retorna un objeto con las siguientes propiedades:

```tsx
type UseSwapModalReturnType = {
  openSwapModal: (settings: SwapModalSettings) => void
  closeSwapModal: () => void
  swapModalSettings: SwapModalSettings | undefined
}
```

### Propiedades

#### openSwapModal

`(settings: SwapModalSettings) => void`

Función para abrir el modal de Intercambio con la configuración especificada.

**Parámetros:**

El`settings`objeto puede incluir las siguientes propiedades:

| Parámetro              | Tipo                                | Descripción                                                                                    |
| ---------------------- | ----------------------------------- | ---------------------------------------------------------------------------------------------- |
| `chainId`              | `number`                            | ID de la red blockchain donde ocurrirá el intercambio                                          |
| `currencyAddress`      | `string`                            | Dirección del contrato del token objetivo                                                      |
| `currencyAmount`       | `string`                            | Cantidad del token objetivo en las unidades más pequeñas                                       |
| `postSwapTransactions` | `Array<{to: string, data: string}>` | (Opcional) Transacciones a ejecutar después de que se complete el intercambio                  |
| `disableMainCurrency`  | `boolean`                           | (Opcional) Si es verdadero, deshabilita el intercambio usando la moneda principal de la cadena |
| `title`                | `string`                            | (Opcional) Título personalizado para el modal de intercambio                                   |
| `description`          | `string`                            | (Opcional) Descripción personalizada para el modal de intercambio                              |
| `onSuccess`            | `() => void`                        | (Opcional) Callback cuando el intercambio es exitoso                                           |
| `onError`              | `(error: Error) => void`            | (Opcional) Callback cuando ocurre un error                                                     |
| `onClose`              | `() => void`                        | (Opcional) Callback cuando se cierra el modal                                                  |
| `blockConfirmations`   | `number`                            | (Opcional) Número de confirmaciones de bloques a esperar para que se complete el intercambio   |

#### closeSwapModal

`() => void`

Función para cerrar el modal de Intercambio.

#### swapModalSettings

`SwapModalSettings | undefined`

La configuración actual para el modal de Intercambio.

```tsx
export interface SwapModalSettings {
  chainId: number
  currencyAddress: string
  currencyAmount: string
  title?: string
  description?: string
  disableMainCurrency?: boolean
  postSwapTransactions?: Transaction[]
  blockConfirmations?: number
  onSuccess?: (txHash: string) => void
}
```

## Notas

Este hook proporciona métodos para controlar el modal de Intercambio que permite a los usuarios intercambiar tokens en su billetera por una moneda objetivo. El modal de Intercambio permite a los usuarios seleccionar tokens de su billetera para intercambiar por un token objetivo específico, con la opción de ejecutar transacciones adicionales después de que se complete el intercambio.
