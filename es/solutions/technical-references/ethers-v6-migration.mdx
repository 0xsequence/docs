---
title: Ethers v6 Migration Guide
description: Soporte para ethers v6 y guías de migración para mover código de ethers v5 a v6
sidebarTitle: Ethers v6 Support
---

El paquete @0xsequence versión v2.0 ahora requiere como mínimo la versión Ethers`ethers@6.13.0`.

<Note>
  Si no puede actualizar a ethers v6, puede usar la versión v1.10.5 de @0xsequence o la 3.0.0 de @0xsequence/kit.
</Note>

Si ha estado desarrollando con`ethers@^5.0.0` en el pasado, a continuación se describen las formas comunes en que cambiará el uso de Ethers con Sequence para usted:

## Proveedor RPC Estático y Predeterminado

Para usar ethers para conectar y hacer[RPC](https://en.wikipedia.org/wiki/Remote_procedure_call) llamadas a un nodo blockchain para consultar información, hacerlo de manera estática o predeterminada tiene diferencias:

```typescript provider.ts
// v5
const provider = new ethers.providers.StaticJsonRpcProvider(chainConfig.rpcUrl);

// v6: If you know the network ahead of time and wish
// to avoid even a single eth_chainId call
const provider = new ethers.JsonRpcProvider(chainConfig.rpcUrl, undefined, {
	staticNetwork: new ethers.Network('<CHAIN_HANDLE>', <CHAIN_ID>)
});

// v6: If you want the network automatically detected,
// this will query eth_chainId only once
const provider = new ethers.JsonRpcProvider(chainConfig.rpcUrl, undefined, {
  staticNetwork: true
});
```

## Soporte para Números Grandes

Si está usando números grandes para generar ID's de tokens espaciados aleatoriamente, nonces, u otra aplicación de números grandes basados en cadenas, ethers ahora soporta BigInt incorporado de ES2020 ofrecido por los entornos JavaScript modernos.

```typescript bigNumber.ts
// v5
value = BigNumber.from("1000")

// v6 
// Notice the suffix n (using literal notation).
value = 1000n

// v6 
// Using the BigInt function for strings
value = BigInt("1000")
```

## Eliminación de Utilidades de Ethers

Al usar Ethers notará que ya no hay una`ethers.utils` ruta. Por lo tanto, todas las rutas deben actualizarse sin el`utils`:

```typescript contract_parameters.ts
// v5
const amountBigNumber = ethers.utils.parseUnits(String(price), 18); // currency price based on correct decimals for token contract
const erc20Interface = new ethers.utils.Interface([
          "function approve(address spender, uint256 amount) external returns (bool)"
        ]);
        
// v6
const amountBigNumber = ethers.parseUnits(String(price), 18); // currency price based on correct decimals for token contract
const erc20Interface = new ethers.Interface([
          "function approve(address spender, uint256 amount) external returns (bool)"
        ]);
```

## Empaquetado de Valores Hash de Utilidad

Si está usando utilidades de ethers para realizar la creación de firmas entonces usando`ecrecover` en la cadena, la creación de firmas es ahora ligeramente diferente:

```typescript signature_creation.ts
// v5
const hash = ethers.utils.solidityKeccak256(['uint', 'uint'], [value1, blockNumber])
const arr = ethers.utils.arrayify(hash)
const signature = await wallet.signMessage(arr)

// v6
const hash = ethers.solidityPackedKeccak256(['uint', 'uint'], [value1, blockNumber])
const arr = ethers.getBytes(hash)
const signature = await wallet.signMessage(arr)
```

<Tip>
  Para información completa sobre las diferencias de Ethers`v5` a`v6` puede leer más[aquí](https://docs.ethers.org/v6/migrating/) en la documentación oficial.
</Tip>
